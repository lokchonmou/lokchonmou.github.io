# 自製PCB

[toc]

我們嘗試用我們常造的電路---IC555+IC4017流水燈線路，來示範怎樣自製PCB。

## 繪製電路原理圖

- 首先開始要繪劃電路原理圖，這部分教程可以參考 [之前的教學](../繪製電路圖與佈線圖/繪製電路圖與佈線圖.html)，這裡就不再重覆。

<img src="image-20231108135901351.png" alt="image-20231108135901351" style="width:80%;" />

| Part  |   Value    |     Device      |      Package       |       Library        |
| :---: | :--------: | :-------------: | :----------------: | :------------------: |
|  C1   |    10u     |   C-USC0805K    |       C0805K       |   rcl (Version 11)   |
|  C2   |    10u     |   C-USC0805K    |       C0805K       |   rcl (Version 11)   |
|  IC1  | NE555_SOIC |   NE555_SOIC    | SOIC127P599X175-8N |   IC_Clock-Timing    |
|  IC2  |   4017D    |      4017D      |        SO16        |   40xx (Version 7)   |
| LED1  |            | LEDCHIP-LED0805 |    CHIP-LED0805    | adafruit (Version 2) |
| LED2  |            | LEDCHIP-LED0805 |    CHIP-LED0805    | adafruit (Version 2) |
| LED3  |            | LEDCHIP-LED0805 |    CHIP-LED0805    | adafruit (Version 2) |
| LED4  |            | LEDCHIP-LED0805 |    CHIP-LED0805    | adafruit (Version 2) |
| LED5  |            | LEDCHIP-LED0805 |    CHIP-LED0805    | adafruit (Version 2) |
| LED6  |            | LEDCHIP-LED0805 |    CHIP-LED0805    | adafruit (Version 2) |
| LED7  |            | LEDCHIP-LED0805 |    CHIP-LED0805    | adafruit (Version 2) |
| LED8  |            | LEDCHIP-LED0805 |    CHIP-LED0805    | adafruit (Version 2) |
| LED9  |            | LEDCHIP-LED0805 |    CHIP-LED0805    | adafruit (Version 2) |
| LED10 |            | LEDCHIP-LED0805 |    CHIP-LED0805    | adafruit (Version 2) |
| PAD1  |            |      SMD2       |    SMD1,27-2,54    | wirepad (Version 2)  |
| PAD2  |            |      SMD2       |    SMD1,27-2,54    | wirepad (Version 2)  |
|  R1   |    10k     |   R-US_R0805    |       R0805        |   rcl (Version 11)   |
|  R2   |    10k     |   R-US_R0805    |       R0805        |   rcl (Version 11)   |
|  R5   |    560     |   R-US_R0805    |       R0805        |   rcl (Version 11)   |

**完成後記得做`erc`確認有否錯誤，下方的warning可以按`Approved`，都是正常的。**

<img src="image-20231108165758461.png" alt="image-20231108165758461" style="width:45%;" />

## 繪制電路圖

### 放置元件

- 首先開啟`grid`設定，將網格設定成`100mil`，`Alt`設定為`50mil`，

<div style = "text-align: center;"><img src="image-20231106163901041.png" alt="image-20231106163901041" style="zoom:100%;" /><img src="image-20231106163935062.png" alt="image-20231106163935062" style="zoom:100%;" /></div>

- 將零件大約跟著識個版本來排，你未必需要跟我完全一樣，但要注意白線，盡量將相鄰的元件放在一起。

<img src="image-20231108171619517.png" alt="image-20231108171619517" style="width:67%;" />

- 接著佈線前跟之前不一樣
- 預設的佈線設定是為工廠所生產，線寬一般為6mil，如果是自製的話，會非常難以控制，所以需要將線寬、線距和最小孔徑加大
- 在命令列輸入`drc`

![image-20231106174447355](image-20231106174447355.png)

- 在`Clearance`欄中，將所有`Wire`、`Pad`和`Via`的間距設定為``0.5mm`，==記得輸入單位`mm`==
- `Distance`中，將`Dimension`設定為`6mil`

<img src="image-20231107084612289.png" alt="image-20231107084612289" style="width:45%;" /><img src="image-20231106174637458.png" alt="image-20231106174637458" style="width:45%;" />



- 在`sizes`欄中，將`Minimum Width`和`Minimum Drill`分別設為`0.5mm`和`0.9mm`，==記得輸入單位`mm`==
- 最後在`Masks`欄中，將`Limit`設定為`3mm`，將所有小於3mm的鑽孔都蓋上綠油

<img src="image-20231106174855554.png" alt="image-20231106174855554" style="width:45%;" /><img src="image-20231106174929466.png" alt="image-20231106174929466" style="width:45%;" />



- 最後按下`Apply`，==不是`Check`==

<img src="image-20231106174952522.png" alt="image-20231106174952522" style="zoom:80%;" />

###自動佈線

- 按下自動佈線按鍵

<img src="image-20231107085040843.png" alt="image-20231107085040843" style="zoom:80%;" />



- 自製PCB的話，如果製作雙面板，會有大量via過孔，需要使用CNC鑽孔，有機會會再寫教程
- 但今次只佈單面板
- 將`1 Top`保持為`Auto`，將`16 Bottom`設定為`N/A`

<img src="image-20231106175228116.png" alt="image-20231106175228116" style="zoom:80%;" />



- 佈線沒有100%是正常的
- 如果沒有90%以上，可以將板的面積加大一點，讓它留有空間走線
- 選一個走線不要太遠的按下`End Job`

<img src="image-20231108191238412.png" alt="image-20231108191238412" style="width:67%;" />



- 以我的例子為例，還有3條線是未佈的，由白色的幼線連著。

<img src="image-20231108191616833.png" alt="image-20231108191616833" style="zoom:60%;" />



- 接著是手動佈線，由於手動佈線是跟著網格去佈的，所以要先將網格縮少
- 打開`Grid`選項，或在命令列輸入`Grid`。
- 將每一格的`Size`設定成`5mil`或更少的值。

<img src="image-20231107085947972.png" alt="image-20231107085947972" style="zoom:80%;" />



- 按手動佈線按鍵，或直接在命令列輸入`route`
- 將線寬設成`0.5mm`

<div style = "text-align: center;"><img src="image-20231108191721669.png" alt="image-20231108191721669" style="zoom:80%;" /><img src="image-20231109113141047.png" alt="image-20231109113141047" style="zoom:70%;" /></div>



- 按一按未佈的線，就會有紅色線引出來，移動時其他的紅色線會輕輕避開
- 按一按滑鼠中鍵（即滑鼠滾輪），就會出現綠色的via過孔
- 找空位放下後，就會跳到藍色的線，藍線代表PCB下層的佈線
- 接著按下滑鼠中鍵（即滑鼠滾輪），再次放下via過孔
- 就能返回佈PCB上層的紅線
- 重覆步驟，例如我的板下層就有3條，共6個via過孔

<img src="image-20231108191049558.png" alt="image-20231108191049558" style="zoom:50%;" />



- 最後按下`polygon`按鍵
- 在板的四邊畫一個方型，就會見到下面的效果
- 由於PCB製作是由覆銅板蝕去不要的地方，所以盡可能保留銅，減少溶劑的損耗

<img src="image-20231107090059198.png" alt="image-20231107090059198" style="zoom:80%;" />

<img src="image-20231108191847554.png" alt="image-20231108191847554" style="width:50%;" />



### 製作PCB板

- 打開左邊的`Display Layer`欄，如果找不到，可以在上方圖示找到`layer`指令，或直接在命令列輸入`layer`
- 只保留`1 Top`、`17 Pad`和`18 Vias`

<img src="image-20231107102555650.png" alt="image-20231107102555650" style="width:40%;" />



- 在上方找`Print`圖示，或直接在命令列輸入`Print`

<img src="image-20231107092601708.png" alt="image-20231107092601708" style="zoom:67%;" />



- 在`Printer`中設為`Print to File(PDF)`
- 選擇`Output file`的路徑，例如我是直接放在桌面
- `Options`中，
	- 將影像鏡像`mirror`，因熱轉印是蓋在覆銅板上方轉印，所以需要鏡像
	- 選擇`Black`，將影像強制轉成黑白，令印出來更深色
- 在`Scale`中，將`Scale factor`設定成`1`，這樣才能一比一的印出直實尺寸

<img src="image-20231107093038702.png" alt="image-20231107093038702" style="width:67%;" />



- 開始一個你熟識的排版軟件
	- 我的話是Adobe Illustrator
	- 你可以選擇學校電腦有預安裝的CorelDraw
	- 或者在家又不想花錢的話，可以下載免費的 [Inkscape](https://inkscape.org/)
- 將PDF檔排入版面，一次過印數份，即使後面的步驟失敗了也能再試

<img src="image-20231107093438500.png" alt="image-20231107093438500" style="width:50%;" />



- 用熱**轉印紙**和**激光打印機**打印出來
- ==熱轉紙有分兩面，要打印在**<u>*光滑*</u>**的一面==

<img src="PXL_20231107_0144312812.jpg" alt="PXL_20231107_014431281~2" style="width:50%;" />



- 將覆銅板截一半，約100 x 75 mm大小
- ==不要將覆銅板截太少，邊長少於70mm的話，下一個步驟不能卷進熱轉印機==

<img src="PXL_20231107_015510539_cr.jpg" alt="PXL_20231107_015510539_cr" style="width:50%;" />

- 用400號沙紙，沾水輕力研磨，將表面的氧化物去除

	- ==不要太大力研磨，也不要用粗沙紙和研磨太久，典型的覆銅板，銅的厚度只有`0.035mm`，後容易會全部磨走==

- 用洗潔精、洗手液或沐浴露，將銅板兩邊的油脂清洗乾淨

	- 也可以用高濃度酒精或其他去油去水的化學品
		- *使用化學品請做足保護措施*

	<img src="PXL_20231107_015648851.jpg" alt="PXL_20231107_015648851" style="width:45%;" />

	

- 清洗後的用紙抹乾

	- *盡量不要用手指佔到銅的位置，免得油脂再次污染*

- 抹乾水後風乾一會

- 等待期間將熱轉印紙剪好備用

	- ==熱轉印紙要預留白邊大約1-2cm，不要剛貼著黑邊去剪裁==

	<img src="PXL_20231107_020055162.jpg" alt="PXL_20231107_020055162" style="width:45%;" />



- 用防熱膠紙(最好用3cm寬的那款)，將熱轉印紙貼在覆銅板表面
	- ==防熱膠紙不要蓋到黑色部分==，否則該部分不能熱轉印到銅板上
	- 熱轉印紙貼到正中央，==讓防熱膠紙有足夠的面積貼著銅板==，否則下一步放入熱轉印機中，很容易會脫落走位
	- ==只需貼一個短邊和少量長邊(如下圖)==，機械滾動時但將紙輕輕拉長
	- ==確保熱轉印紙完全貼服==

<img src="PXL_20231107_020557765-1699509416821-6.jpg" alt="PXL_20231107_020557765" style="width:50%;" />



- 可以提前準備，將熱轉印機調到180攝氏度左右

- 將銅板有膠紙的一邊推入機器中

- 見到銅板出來後，可用鉗輕輕拉出==(注意銅板會非常高熱，不要用手觸碰)==

- 重覆這個步驟，**共放入機器兩次**

	- 下圖是拉出來的圖片，不是推入去的圖片
	- 整個過程中，==都需要適當的用力推入和拉出機器==，不要只讓上面的膠紙和熱轉印紙==受力卷入機器==，否則很易脫落

	<img src="PXL_20231107_020620272.jpg" alt="PXL_20231107_020620272" style="width:35%;" /><img src="PXL_20231107_021321606.jpg" alt="PXL_20231107_021321606" style="width:55%;" />



- 完成後讓覆銅板泠卻一會
- 之後可以輕輕撕開膠紙和熱轉印紙

<img src="PXL_20231107_021918898.jpg" alt="PXL_20231107_021918898" style="width:45%;" />



- 用放大鏡檢查一下線路是否完整
- 例如下圖，在放大鏡發現有線段印得不太清楚，便需要用箱頭筆將線段補上
	- 補上時請小心手抖，線段只有0.5mm寬和間距，可以在放大鏡下小心操作
	- ==記得檢查清楚所有線段==，如果你覺得用箱頭筆補線已經得難，那在洗好板後才用幼電線修補，難度堪比做心臟搭橋手術

<img src="PXL_20231107_022255235.jpg" alt="PXL_20231107_022255235" style="width:45%;" /><img src="PXL_20231107_022323541.jpg" alt="PXL_20231107_022323541" style="width:45%;" />



- ==用A4紙覆蓋著覆銅板的油墨部分==
- 用閘床裁去多餘的部分
	- 每邊保留有5-10mm
- 之後便可以用鑽將過孔vias鑽穿
	- 過孔只有0.9mm，鑽的時候要小心不要弄斷鑽咀
	- 鑽好後用箱頭筆將過孔邊緣的油墨補上，否則之後沒有銅的話很難焊接

<img src="PXL_20231107_023250833.jpg" alt="PXL_20231107_023250833" style="width:45%;" />

<img src="PXL_20231107_025112572.jpg" alt="PXL_20231107_025112572" style="width:45%;" /><img src="PXL_20231107_025414326.jpg" alt="PXL_20231107_025414326" style="width:45%;" />



- 用箱頭筆將餘下外露的銅都覆蓋上
- 在塗畫背面時，可以順便將需要的接線保留，之後就不需用電線連接

<img src="PXL_20231107_025601797.jpg" alt="PXL_20231107_025601797" style="width:45%;" /><img src="PXL_20231107_025950903.jpg" alt="PXL_20231107_025950903" style="width:45%;" />



### 正式動手洗板

- 準備一個電子磅、一個量杯、一個小型餐盒和蝕刻粉劑
- ==**<u>*整個處理過程請戴上橡膠手套，如沒有眼鏡的話，也請戴上眼罩，如溶劑不慎濺入眼中或口中，請立刻使用食用清水沖洗，並立刻求醫*</u>**==

<img src="PXL_20231107_084127141.jpg" alt="PXL_20231107_084127141" style="width:50%;" />



- 準備20克的蝕刻粉劑和80毫升的熱水
	- 比例為1:4，如果容器底面積太大的話，就需要多一點溶劑浸過電路板
	- 讓蝕刻粉劑完全溶於熱水中，熱水有助加快蝕刻過程
	- *在等待煲熱水和量重的過程前，可先預熱下面步驟所用的3D打印機，詳情請看一下步驟*

<img src="PXL_20231107_084842027.jpg" alt="PXL_20231107_084842027" style="width:45%;" /><img src="PXL_20231107_085220576.jpg" alt="PXL_20231107_085220576" style="width:45%;" />



- 如果有平台會移動的3D打印機，可以用以下GCODE檔案，控制3D打印機的平台升溫和前後移動，不用親手搖動。
- 如果沒有的話，請用手將容器搖動，並不時要反轉覆銅板，確保覆銅板兩面都能接觸到流動的溶液

**GCODE檔:**  [etching_v=5000_a=60.gcode](etching_v=5000_a=60.gcode) 

- *銅在蝕刻時會製生泡沫，可適當用攝子反動一下覆銅板，泡沫消散後才能更易觀察銅是否已蝕刻成功*

- *我這個尺寸的電路板，蝕刻過程大約3-4分鐘，時間過長會連油墨部分都會蝕刻掉*

<video style="height: 400px" src="PXL_20231107_085413179.TS.mp4"></video>

- 蝕刻好後是這樣

<img src="PXL_20231107_090917342.jpg" alt="PXL_20231107_090917342" style="width:45%;" /><img src="PXL_20231107_090923045.MP.jpg" alt="PXL_20231107_090923045.MP" style="width:45%;" />



- 細心用放大鏡觀察導線有否斷掉或時間不夠有所殘留
- 例如下圖，蝕刻時間有少許過長，部分導線有點幼，焊接時可能要注意，有需要用錫補一補

<img src="PXL_20231107_091141177.jpg" alt="PXL_20231107_091141177" style="width:45%;" />



- 餘下的溶劑不要立即沖掉，可以重覆使用
- 銅的離子為藍色，所以蝕刻完後，溶劑會稍為變藍
- 使用幾次後，溶劑會越來越藍，化學反應會越來越慢
- 直到不能用後，請用石灰或鹼性溶劑中和後才沖掉
- 未用完的溶劑可以用**不密封**的膠盒儲存，儲存時會**產生氧氣**，不要用密封膠盒

<img src="PXL_20231107_090306169.jpg" alt="PXL_20231107_090306169" style="width:45%;" /><img src="PXL_20231107_090541924.jpg" alt="PXL_20231107_090541924" style="width:45%;" />



### 焊接電路

- 一般完成蝕刻程序後，下一個步驟會再用綠油覆蓋和曬紫外燈，這該露出來的地方露出來，其他地方用綠油保護
- 但這個過程不易操作，如果只是測試電路的話，建議可以跳過
- 用沙紙將需要焊接的地方輕輕磨去，其他就讓油墨保護銅不易氧化
	- *不要太大力，銅的厚度只有0.035mm厚*
	- *如果怕焊接時會不小心焊到其他外露的銅，可以用綠油薄薄覆蓋一層，多餘的用紙巾抹去，之後用紫外燈曝曬*

<img src="PXL_20231107_092132164.jpg" alt="PXL_20231107_092132164" style="width:45%;" />



- 之後就可以焊接
	- 焊接時，要將焫雞(電鉻鐵)預熱焊盤和引腳
	- 將錫線推進**焊盤和引腳**，不要推進焫雞，否則錫只會黏著焫雞而不會黏焊盤和引腳
	- *我下面的示範因要拍攝影片，被手機隔著，所以效果不太好*
	- *之後的課我們會有專門為貼片零件焊接的課程和練習，可以練習熟練後才回來焊接這塊自製板*

<video style="height: 350px" src="PXL_20231107_100706468.TS~2.mp4"></video>



- 完成全部零件焊接後，記得用零件電線腳或較粗的電線，將過孔vias上下焊接接通

<img src="PXL_20231107_104922424.jpg" alt="PXL_20231107_104922424" style="width:45%;" />



## 完成效果

<video style = "height: 400px" src="PXL_20231107_110457411.TS.mp4"></video>
