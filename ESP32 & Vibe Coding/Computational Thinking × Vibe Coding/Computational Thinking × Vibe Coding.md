# Computational Thinking × Vibe Coding

> 範例：**ESP32 使用超聲波感測器測距，並於 OLED 顯示距離**

## 0. 專案總覽

| 區塊                    | 內容                                                         |
| ----------------------- | ------------------------------------------------------------ |
| **產品目標**            | 以 ESP32 量測距離並在 OLED 顯示，每 200ms 更新；距離 < 1.5cm 時顯示「⚠️ Too Close」。 |
| **I/O 定義**            | **輸入**：超聲波回波時間（us）→ 換算距離（cm）。**輸出**：OLED 128×64 文本/數值。 |
| **限制條件**            | 單一專案（多檔可）；以 Arduino Core for ESP32；以 `millis()` 做節流；避免阻塞式 `delay()`。 |
| **驗收標準**            | 1. 正常距離 5–200cm 量測誤差 ≤ ±1cm；<br />2. 200ms 內完成一次更新；<br />3. <1.5cm 觸發警示；<br />4. 感測異常時顯示 `—`；<br />5. 程式含清晰註解並列出授權資訊。 |
| **子系統**              | 1. 超聲波測距；<br />2. OLED 顯示；<br />                    |
| **資料流圖**/**時序圖** | <img src="%E8%9E%A2%E5%B9%95%E6%88%AA%E5%9C%96%202025-10-14%2014.53.16.png" alt="螢幕截圖 2025-10-14 14.53.16" style="width:50%;" /> |

## 1. 子系統 A：超聲波測距

### 1.1 PRD（感測子系統）

| 區塊         | 內容                                                         |
| ------------ | ------------------------------------------------------------ |
| **產品目標** | 以超聲波模組量測距離（cm），提供穩定、去雜訊的數值。         |
| **I/O 定義** | **輸入**：`Trigger`5 腳（輸出脈衝）、`Echo`18 腳（量測高電平時間）。**輸出**：距離（float, cm）。 |
| **限制條件** | 以 `millis()` 控制觸發頻率（≥200ms 間隔），避免連續觸發；提供 3~5 次移動平均去抖動； |
| **驗收標準** | 1) 10/50/100cm 標定誤差 ≤ ±1cm；2) No reading 時回傳 `NAN`；3) 量測頻率可配置（預設 5Hz）。 |

### 1.2 結構化 Prompt（交給 AI 生成「感測器驅動」）

> 自己根據上面諗一諗先

答案: [Gemini 生成](https://g.co/gemini/share/026463036295)

## 2. 子系統 B：OLED 顯示

### 	2.1 PRD（顯示子系統）

| 區塊         | 內容                                                         |
| ------------ | ------------------------------------------------------------ |
| **產品目標** | 以 I²C OLED（128×64）穩定顯示數值與警示訊息。                |
| **I/O 定義** | **輸入**：距離（float 或字串）。**輸出**：視覺呈現。         |
| **限制條件** | 以 `millis()` 限制刷新頻率（≥100ms）；避免連續重畫耗電；使用通用字型；單一初始化流程）；使用Adafruit SSD1306 library，並在程式碼中注解說明如何安裝 |
| **驗收標準** | 1) 正常顯示距離，字元不重疊；2) 無數據顯示 `—`；3) 能提供正常/警示/無數據三個狀態；4) 刷新順暢無閃爍。 |

### 2.2 結構化 Prompt（交給 AI 生成「顯示模組」）

> 自己根據上面諗一諗先

- 使用同一個AI對話框繼續的話，可以不需要提醒`你是嵌入式工程師。`和`請為ESP32 (Arduino Core)生成...`，反而要提醒AI，要獨立測驗OLED顯示模組。
- AI做得正確時，不妨讚賞一下，那在連續對話中，它才知道要答甚麼才是正確。
- ==核對一下ESP32的I²C腳位是否正確，尤其是如果你用較舊的AI工具，十分容易出現幻覺。==
- 後來生成的程式碼有2個問題，我都請AI幫我修正和==手動修正== :
	- Adafruit SSD1306 library不支援中文
	- 文字太大以致換行

答案: [Gemini生成](https://g.co/gemini/share/afe18a09c322)

## 3. 系統層 PRD

### 3.1 結構化 Prompt（交給 AI 生成「整合主檔」）

> 自己根據上面諗一諗先
>  

答案: [Gemini生成](https://g.co/gemini/share/eaa059c64133)

## 4. 創意延仲

> 💡 從「功能完成」→ 「有意義的應用」
>  用 **運算思維（分解、抽象、演算法）** 將原本的功能，轉化成真實場景應用。
>  這一部分是「創意 × 邏輯」的加分題，不求難，只求**有連結、有價值**。

### 4.1 任務挑戰 （Challenge）

試想，你的 ESP32 量測系統現在可以穩定顯示距離。
 👉 **如何延伸成一個「真實用途」的原型？**

請從以下方向思考：

| 運算思維         | 問題引導                                   | 提示例子                               |
| ---------------- | ------------------------------------------ | -------------------------------------- |
| 🧩 **分解**       | 系統可拆成哪些模組？哪個模組能改進？       | 感測器、顯示器、警示模組、資料紀錄模組 |
| 🪄 **抽象**       | 若要應用於某個場景，該抽取哪些核心功能？   | 「距離警示」→ 可抽象成「安全距離偵測」 |
| 🔁 **演算法思維** | 資料如何流動？觸發—判斷—回饋流程是否清晰？ | 超聲波→距離→條件判斷→顯示→蜂鳴器/回饋  |

### 4.2 範例構想（參考）

| Level          | 概念示例                                    | 特點                       |
| -------------- | ------------------------------------------- | -------------------------- |
| ⚙️ Level 2 入門 | 「距離太近時亮燈警示」                      | 技術延伸但無明確場景       |
| ✅ Level 3 合格 | 「超聲波＋OLED → 測距儀／避障車」           | 有具體用途，可描述流程     |
| 💬 Level 4 熟練 | 「盲人手杖：超聲波＋蜂鳴＋震動模組」        | 連結使用者需求，有回饋循環 |
| 🧠 Level 5 專家 | 「智慧導航杖：AI 辨識障礙物＋距離聲效反饋」 |                            |

### 4.3 創意延伸任務提交指引（Creative Extension Submission）

> 💡 從「功能完成」→「創意應用」
>  以五段方式提交你的構想。每段簡潔 2–4 句即可。
>  可附手繪圖／Mermaid 流程圖／AI 生成草圖。

------

#### 🧭 (1) Application Scenario

說明你的應用情境與主題。

> 例：盲人手杖避障、智慧垃圾桶測滿水位、距離提醒門鈴。

✅ **要點：** 實際場景、有明確功能目的。

------

#### 🙋‍♂️ (2) User Needs

指出「誰」會用？「痛點」是甚麼？你的系統如何幫助？

> 例：盲人行走時難以判斷障礙距離 → 超聲波＋蜂鳴回饋。

✅ **要點：** 寫出使用者問題與對應解決方案。

------

#### 🔌 (3) New I/O Design

描述你新增的感測器或輸出元件。

> 例：加入蜂鳴器、震動馬達、語音播報、Wi-Fi 上傳等。

✅ **要點：** 清楚指出新輸入／輸出及其作用。

------

#### 🔁 (4) Flowchart / Concept Sketch

畫出或簡述整體運作流程。

> 例：超聲波→距離判斷→蜂鳴／震動回饋→顯示。

✅ **要點：** 展示「輸入→處理→輸出／回饋」邏輯。
 可用 Mermaid、手繪或簡圖（重點是流程清楚）。

------

#### 🌍 (5) Social Value or Extension Potential

說明你的設計對社會有甚麼貢獻？能否延伸成產品或研究？

> 例：改善無障礙設計；延伸為智慧城市感測網。

✅ **要點：** 與人／社會／環境有連結；提出再發展方向。

### 💡 創意思維層次

> ⚙️ **低階創意 (Technology-driven)**
>  先有技術 → 再從技術發掘用途。
>  例：有超聲波 + 顯示 → 想到可做「盲人手杖」。
>
> 🧭 **高階創意 (User-driven)**
>  先觀察使用者與痛點 → 再設計技術去解決問題。
>  例：發現視障人士難以分辨障礙物距離 → 才選擇用超聲波＋語音回饋。

✅ **重點：**

> 技術只是工具，創意的起點應該是「人」與「需求」。
>  高階構想通常更具可行性與社會價值。

## 5. 工作紙與評核

1. [Computational Thinking × Vibe Coding worksheet(電子填寫和提交)]( Computational Thinking × Vibe Coding worksheet.docx)

2. [🧮 AI 協作編程評分量表（Vibe Coding × 運算思維整合）.pdf](🧮 AI 協作編程評分量表（Vibe Coding × 運算思維整合）.pdf)  

3. [AI 協作編程反思與自檢表(實體填寫提交)](AI 協作編程反思與自檢表.pdf) 